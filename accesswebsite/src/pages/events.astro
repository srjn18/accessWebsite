---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";

// --- CONFIGURATION ---
const featuredEvent = {
  show: true,
  title: "MEME WAR 2025",
  date: "November 7, 2025",
  venue: "CCL45",
  status: "Registrations Open",
  img: "/images/Events/2025-26/innoventure.jpg",
  regLink: "https://docs.google.com/forms/u/0/",
  desc: "A thrilling game of brain and treasure presented by the Student Chapter. Exciting cash pool up for grabs! Exclusive for CCE Department.",
};

const eventsData = {
  "2025-26": [
    {
      title: "Ayudha Pooja",
      type: "Cultural",
      date: "2025-10-04",
      time: "10:00 AM",
      venue: "Department Lobby",
      attendance: "Department",
      img: "/images/Events/2025-26/AyudhaPooja.jpg",
      desc: "Traditional Ayudha Pooja celebration.",
      video: "",
      gallery: [],
    },
    {
      title: "DSA Workshop",
      type: "Technical",
      date: "2025-09-15",
      time: "2:00 PM",
      venue: "Lab 2",
      attendance: "Students",
      img: "/images/Events/2025-26/DSA.png",
      desc: "Hands-on Data Structures and Algorithms practice.",
      video: "",
      gallery: [],
    },
    {
      title: "Garba Night",
      type: "Cultural",
      date: "2025-10-10",
      time: "6:00 PM",
      venue: "College Ground",
      attendance: "Open to All",
      img: "/images/Events/2025-26/Garba_Poster.png",
      desc: "Festive Garba evening.",
      video: "",
      gallery: [],
    },
    {
      title: "Git Workshop",
      type: "Technical",
      date: "2025-08-20",
      time: "3:00 PM",
      venue: "Seminar Hall",
      attendance: "Students",
      img: "/images/Events/2025-26/Git.jpg",
      desc: "Introduction to Git.",
      video: "",
      gallery: [],
    },
    {
      title: "ISRO Event",
      type: "Technical",
      date: "2025-08-12",
      time: "11:00 AM",
      venue: "Auditorium",
      attendance: "Open to All",
      img: "/images/Events/2025-26/ISRO.jpg",
      desc: "Session highlighting ISRO’s missions.",
      video: "",
      gallery: [],
    },
    {
      title: "Madvertising",
      type: "Competition",
      date: "2025-11-05",
      time: "2:00 PM",
      venue: "Classroom 404",
      attendance: "Teams",
      img: "/images/Events/2025-26/Madvertising.jpg",
      desc: "Creative marketing competition.",
      video: "",
      gallery: [],
    },
    {
      title: "Memory Challenge",
      type: "Game",
      date: "2025-11-12",
      time: "4:00 PM",
      venue: "Lobby",
      attendance: "Individual",
      img: "/images/Events/2025-26/memory.jpg",
      desc: "Fun game to test memory.",
      video: "",
      gallery: [],
    },
    {
      title: "MindQuest",
      type: "Quiz",
      date: "2025-09-05",
      time: "1:00 PM",
      venue: "Seminar Hall",
      attendance: "Teams",
      img: "/images/Events/2025-26/MindQuest.png",
      desc: "Quiz‑style event.",
      video: "",
      gallery: [],
    },
    {
      title: "Rangoli Competition",
      type: "Cultural",
      date: "2025-10-20",
      time: "10:00 AM",
      venue: "Corridor",
      attendance: "Groups",
      img: "/images/Events/2025-26/rangoli.jpeg",
      desc: "Artistic Rangoli designs.",
      video: "",
      gallery: [],
    },
    {
      title: "Teacher's Day",
      type: "Celebration",
      date: "2025-09-05",
      time: "3:00 PM",
      venue: "Department",
      attendance: "Faculty & Students",
      img: "/images/Events/2025-26/Teacher.png",
      desc: "Celebration to appreciate our faculty.",
      video: "",
      gallery: [],
    },
  ],
  "2024-25": [
    {
      title: "Access Football",
      type: "Sports",
      date: "2024-11-10",
      time: "4:00 PM",
      venue: "Football Ground",
      attendance: "Teams",
      img: "/images/Events/2024-25/AccessFootball.webp",
      video: "/videos/football_highlights.mp4",
      gallery: [
        "/images/Events/2024-25/AccessFootball.webp",
        "/images/Events/2024-25/kickoff.jpg",
        "/images/Events/2024-25/winning_moment.jpg",
      ],
      desc: "Friendly football tournament conducted by ACCESS to encourage teamwork and sportsmanship.",
    },
    {
      title: "Bollywood Night",
      type: "Cultural",
      date: "2024-12-05",
      time: "6:00 PM",
      venue: "Auditorium",
      attendance: "Open to All",
      img: "/images/Events/2024-25/Bollywood.png",
      desc: "Cultural evening with Bollywood music.",
      video: "",
      gallery: [],
    },
    {
      title: "Data Structures",
      type: "Technical",
      date: "2024-09-15",
      time: "2:00 PM",
      venue: "Lab 1",
      attendance: "Students",
      img: "/images/Events/2024-25/DataStructures.webp",
      desc: "Concepts and practice problems.",
      video: "",
      gallery: [],
    },
    {
      title: "GitHub Workshop",
      type: "Technical",
      date: "2024-08-25",
      time: "3:00 PM",
      venue: "Lab 3",
      attendance: "Students",
      img: "/images/Events/2024-25/GitHubWorkshop.webp",
      desc: "Session on using GitHub.",
      video: "",
      gallery: [],
    },
    {
      title: "Good Vibes",
      type: "Social",
      date: "2024-10-15",
      time: "5:00 PM",
      venue: "Lawn",
      attendance: "Open to All",
      img: "/images/Events/2024-25/GoodVibesGathering.webp",
      desc: "Relaxed get‑together.",
      video: "",
      gallery: [],
    },
    {
      title: "Logo Rush",
      type: "Design",
      date: "2024-09-20",
      time: "2:00 PM",
      venue: "Design Lab",
      attendance: "Individual",
      img: "/images/Events/2024-25/LogoRush.webp",
      desc: "Design sprint for logos.",
      video: "",
      gallery: [],
    },
    {
      title: "Meme War",
      type: "Fun",
      date: "2025-01-10",
      time: "Online",
      venue: "Social Media",
      attendance: "Open",
      img: "/images/Events/2024-25/MemeWar.png",
      desc: "Meme competition.",
      video: "",
      gallery: [],
    },
    {
      title: "Militia",
      type: "Gaming",
      date: "2024-11-20",
      time: "10:00 AM",
      venue: "Lab 2",
      attendance: "Teams",
      img: "/images/Events/2024-25/Militia.webp",
      desc: "Team‑based strategy event.",
      video: "",
      gallery: [],
    },
    {
      title: "PrepQuest",
      type: "Technical",
      date: "2025-02-15",
      time: "2:00 PM",
      venue: "Classroom 101",
      attendance: "Students",
      img: "/images/Events/2024-25/PrepQuest.png",
      desc: "Preparation‑oriented quiz.",
      video: "",
      gallery: [],
    },
    {
      title: "Quiz Competition",
      type: "Quiz",
      date: "2024-10-05",
      time: "11:00 AM",
      venue: "Seminar Hall",
      attendance: "Teams",
      img: "/images/Events/2024-25/Quiz.jpg",
      desc: "General quiz event.",
      video: "",
      gallery: [],
    },
    {
      title: "Smokeless Bites",
      type: "Food",
      date: "2025-03-10",
      time: "12:00 PM",
      venue: "Cafeteria",
      attendance: "Open",
      img: "/images/Events/2024-25/SmokelessBites.png",
      desc: "Food‑themed event.",
      video: "",
      gallery: [],
    },
    {
      title: "Spin",
      type: "Fun",
      date: "2024-12-15",
      time: "1:00 PM",
      venue: "Lobby",
      attendance: "Individual",
      img: "/images/Events/2024-25/Spin.png",
      desc: "Interactive spin‑the‑wheel.",
      video: "",
      gallery: [],
    },
    {
      title: "Startup Event",
      type: "Business",
      date: "2025-01-20",
      time: "10:00 AM",
      venue: "Incubation Center",
      attendance: "Teams",
      img: "/images/Events/2024-25/Startup.webp",
      desc: "Pitching startup ideas.",
      video: "",
      gallery: [],
    },
    {
      title: "Tech Fusion",
      type: "Technical",
      date: "2025-03-20",
      time: "9:00 AM",
      venue: "Auditorium",
      attendance: "Open to All",
      img: "/images/Events/2024-25/TechFusion.webp",
      desc: "Flagship tech event.",
      video: "",
      gallery: [],
    },
  ],
};

const defaultYear = "2024-25";
const fmt = {
  full: new Intl.DateTimeFormat("en-US", {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric",
  }),
  mon: new Intl.DateTimeFormat("en-US", { month: "short" }),
};
const getParts = (d) => {
  const x = new Date(d);
  return isNaN(x)
    ? { d: "00", m: "TBA", y: "0000" }
    : {
        d: x.getDate(),
        m: fmt.mon.format(x).toUpperCase(),
        y: x.getFullYear(),
      };
};
const getFull = (d) => {
  const x = new Date(d);
  return isNaN(x) ? "Date TBA" : fmt.full.format(x);
};
---

<Navbar />
<Layout>
  <div class="bg-animation">
    <div id="s1"></div><div id="s2"></div><div id="s3"></div>
  </div>

  <div class="page-container">
    {
      featuredEvent.show && (
        <div class="featured-wrapper fade-in">
          <div class="featured-card">
            <div class="f-img">
              <>
                <img src={featuredEvent.img} alt="Featured" />
                <div class="live-badge">
                  <span class="pulse" /> {featuredEvent.status}
                </div>
              </>
            </div>
            <div class="f-content">
              <>
                <h2 class="f-label">Upcoming Event</h2>
                <h1 class="f-title">{featuredEvent.title}</h1>
              </>
              <div class="f-meta">
                <div class="row">
                  <>
                    <svg class="icon" viewBox="0 0 24 24">
                      <>
                        <rect x="3" y="4" width="18" height="18" rx="2" />
                        <line x1="16" y1="2" x2="16" y2="6" />
                        <line x1="8" y1="2" x2="8" y2="6" />
                        <line x1="3" y1="10" x2="21" y2="10" />
                      </>
                    </svg>
                    <span>{featuredEvent.date}</span>
                  </>
                </div>
                <div class="row">
                  <>
                    <svg class="icon" viewBox="0 0 24 24">
                      <>
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                        <circle cx="12" cy="10" r="3" />
                      </>
                    </svg>
                    <span>{featuredEvent.venue}</span>
                  </>
                </div>
              </div>
              <p class="f-desc">{featuredEvent.desc}</p>
              <a
                href={featuredEvent.regLink}
                target="_blank"
                class="btn primary"
              >
                Register Now{" "}
                <svg class="icon-sm" viewBox="0 0 24 24">
                  <>
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
                    <polyline points="15 3 21 3 21 9" />
                    <line x1="10" y1="14" x2="21" y2="3" />
                  </>
                </svg>
              </a>
            </div>
          </div>
        </div>
      )
    }

    <div class="content-wrapper">
      <div class="header-card">
        <h2 class="section-title">Past Events</h2><p class="section-subtitle">
          Explore activities by ACCESS
        </p>
      </div>
      <div class="tabs-container">
        {
          Object.keys(eventsData).map((y) => (
            <button
              class={`tab ${y === defaultYear ? "active" : ""}`}
              data-year={y}
            >
              {y}
            </button>
          ))
        }
      </div>
      {
        Object.entries(eventsData).map(([y, evs]) => (
          <div
            id={`year-${y}`}
            class="year-content"
            style={y === defaultYear ? "display:block" : "display:none"}
          >
            <div class="grid">
              {evs.map((e) => {
                const p = getParts(e.date);
                return (
                  <div class="card fade-in">
                    <div class="card-img">
                      <img src={e.img} alt={e.title} loading="lazy" />
                      <div class="date-badge">
                        <span class="d">{p.d}</span>
                        <span class="m">{p.m}</span>
                        <span class="y">{p.y}</span>
                      </div>
                      <div class="type-badge">{e.type}</div>
                    </div>
                    <div class="card-body">
                      <h3>{e.title}</h3>
                      <div class="meta">
                        <div class="row">
                          <svg class="icon-sm" viewBox="0 0 24 24">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                            <circle cx="12" cy="10" r="3" />
                          </svg>
                          <span>{e.venue}</span>
                        </div>
                        <div class="row">
                          <svg class="icon-sm" viewBox="0 0 24 24">
                            <rect x="3" y="4" width="18" height="18" rx="2" />
                            <line x1="16" y1="2" x2="16" y2="6" />
                            <line x1="8" y1="2" x2="8" y2="6" />
                            <line x1="3" y1="10" x2="21" y2="10" />
                          </svg>
                          <span>{getFull(e.date)}</span>
                        </div>
                      </div>
                      <button
                        class="btn outline view-btn"
                        data-title={e.title}
                        data-date={getFull(e.date) + " | " + e.time}
                        data-venue={e.venue}
                        data-desc={e.desc}
                        data-img={e.img}
                        data-type={e.type}
                        data-attend={e.attendance}
                        data-video={e.video || ""}
                        data-gallery={JSON.stringify(e.gallery || [])}
                      >
                        View Details &rarr;
                      </button>
                    </div>
                  </div>
                );
              })}
            </div>
          </div>
        ))
      }
    </div>
  </div>

  <div id="modal" class="modal-overlay">
    <div class="modal-box">
      <button class="close-btn">&times;</button>
      <div class="modal-layout">
        <div class="media-col">
          <div id="m-badge" class="modal-type-badge"></div>

          <div class="carousel" id="carousel-track"></div>

          <button class="arrow prev" id="prev"
            ><svg
              viewBox="0 0 24 24"
              width="24"
              height="24"
              stroke="currentColor"
              stroke-width="2"
              fill="none"><polyline points="15 18 9 12 15 6"></polyline></svg
            ></button
          >
          <button class="arrow next" id="next"
            ><svg
              viewBox="0 0 24 24"
              width="24"
              height="24"
              stroke="currentColor"
              stroke-width="2"
              fill="none"><polyline points="9 18 15 12 9 6"></polyline></svg
            ></button
          >
          <div class="dots" id="dots"></div>
        </div>

        <div class="info-col">
          <h2 id="m-title"></h2>
          <div class="info-rows">
            <div class="i-row">
              <div class="icon-box">
                <svg class="icon" viewBox="0 0 24 24"
                  ><rect x="3" y="4" width="18" height="18" rx="2"></rect><line
                    x1="16"
                    y1="2"
                    x2="16"
                    y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line
                    x1="3"
                    y1="10"
                    x2="21"
                    y2="10"></line></svg>
              </div><div><span>Date & Time</span><p id="m-date"></p></div>
            </div>
            <div class="i-row">
              <div class="icon-box">
                <svg class="icon" viewBox="0 0 24 24"
                  ><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"
                  ></path><circle cx="12" cy="10" r="3"></circle></svg>
              </div><div><span>Venue</span><p id="m-venue"></p></div>
            </div>
            <div class="i-row">
              <div class="icon-box">
                <svg class="icon" viewBox="0 0 24 24"
                  ><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"
                  ></path><circle cx="9" cy="7" r="4"></circle><path
                    d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path
                    d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
              </div><div><span>Attendance</span><p id="m-attend"></p></div>
            </div>
          </div>
          <div class="desc-box">
            <h3>About This Event</h3><p id="m-desc"></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="/scroll-animations.js" is:inline defer></script>
  <script is:inline>
    const starCfg = [
      { id: "s1", c: 200, d: "50s" },
      { id: "s2", c: 100, d: "100s" },
      { id: "s3", c: 50, d: "150s" },
    ];
    function initStars() {
      const w = Math.max(window.innerWidth, 2000),
        h = Math.max(window.innerHeight, 2000);
      starCfg.forEach((l) => {
        const el = document.getElementById(l.id);
        if (!el) return;
        let s = [];
        for (let i = 0; i < l.c; i++)
          s.push(
            `${Math.round(Math.random() * w)}px ${Math.round(Math.random() * h)}px #c49952`,
          );
        el.style.boxShadow = s.join(",");
      });
    }
    initStars();
    window.onresize = () => setTimeout(initStars, 200);

    let currentSlide = 0,
      slidesData = [];
    const els = {
      m: document.getElementById("modal"),
      track: document.getElementById("carousel-track"),
      dots: document.getElementById("dots"),
      nav: [document.getElementById("prev"), document.getElementById("next")],
    };

    function buildSlides(videoSrc, posterSrc, galleryArray) {
      slidesData = [];
      // Video
      if (videoSrc && videoSrc.trim() !== "")
        slidesData.push({ type: "video", src: videoSrc });

      // Gallery
      if (galleryArray && galleryArray.length > 0)
        galleryArray.forEach((img) =>
          slidesData.push({ type: "image", src: img }),
        );
      else if (!videoSrc) slidesData.push({ type: "image", src: posterSrc });

      els.track.innerHTML = "";
      els.dots.innerHTML = "";
      slidesData.forEach((s, i) => {
        const slide = document.createElement("div");
        slide.className = `slide ${i === 0 ? "active" : ""}`;
        if (s.type === "video")
          slide.innerHTML = `<video width="100%" height="100%" controls playsinline><source src="${s.src}" type="video/mp4"></video>`;
        else slide.innerHTML = `<img src="${s.src}" alt="Slide ${i}" />`;
        els.track.appendChild(slide);
        const dot = document.createElement("span");
        dot.className = `dot ${i === 0 ? "active" : ""}`;
        dot.onclick = () => goToSlide(i);
        els.dots.appendChild(dot);
      });
      const display = slidesData.length > 1 ? "flex" : "none";
      els.nav.forEach((b) => (b.style.display = display));
      els.dots.style.display = display;
      currentSlide = 0;
    }

    function goToSlide(index) {
      if (index < 0) index = slidesData.length - 1;
      if (index >= slidesData.length) index = 0;
      const sEls = els.track.querySelectorAll(".slide"),
        dEls = els.dots.querySelectorAll(".dot");
      sEls[currentSlide].classList.remove("active");
      dEls[currentSlide].classList.remove("active");
      const pv = sEls[currentSlide].querySelector("video");
      if (pv) pv.pause();
      currentSlide = index;
      sEls[currentSlide].classList.add("active");
      dEls[currentSlide].classList.add("active");
    }

    document.addEventListener("click", (e) => {
      const t = e.target.closest(".tab");
      if (t) {
        document
          .querySelectorAll(".tab")
          .forEach((b) => b.classList.remove("active"));
        t.classList.add("active");
        document
          .querySelectorAll(".year-content")
          .forEach(
            (c) =>
              (c.style.display =
                c.id === `year-${t.dataset.year}` ? "block" : "none"),
          );
      }
      const b = e.target.closest(".view-btn");
      if (b) {
        const d = b.dataset;
        ["title", "date", "venue", "desc", "attend"].forEach(
          (k) => (document.getElementById(`m-${k}`).innerText = d[k]),
        );
        document.getElementById("m-badge").innerText = d.type;
        let gal = [];
        try {
          gal = JSON.parse(d.gallery);
        } catch (e) {}
        buildSlides(d.video, d.img, gal);
        els.m.style.display = "flex";
        setTimeout(() => els.m.classList.add("open"), 10);
        document.body.style.overflow = "hidden";
      }
      if (
        e.target.closest(".close-btn") ||
        e.target.classList.contains("modal-overlay")
      ) {
        els.m.classList.remove("open");
        setTimeout(() => {
          els.m.style.display = "none";
          els.track.innerHTML = "";
        }, 300);
        document.body.style.overflow = "auto";
      }
      if (e.target.closest("#prev")) goToSlide(currentSlide - 1);
      if (e.target.closest("#next")) goToSlide(currentSlide + 1);
    });
  </script>
</Layout>

<style>
  :root {
    --p: #c49952;
    --bg: #000;
    --c-bg: #0f0f0f;
    --w: #fff;
    --g: #b3b3b3;
  }
  body {
    background: var(--bg);
    color: var(--w);
    font-family: "Segoe UI", sans-serif;
  }
  .bg-animation {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
  }
  #s1,
  #s2,
  #s3,
  .abs-star {
    width: 1px;
    height: 1px;
    background: transparent;
    position: absolute;
    animation: anim 50s linear infinite;
    will-change: transform;
  }
  #s2 {
    width: 2px;
    height: 2px;
    animation-duration: 100s;
  }
  #s3 {
    width: 3px;
    height: 3px;
    animation-duration: 150s;
  }
  .abs-star {
    position: absolute;
    top: 2000px;
  }
  @keyframes anim {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(-2000px);
    }
  }

  .page-container {
    position: relative;
    z-index: 10;
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 20px;
    min-height: 80vh;
  }
  .icon,
  .icon-sm {
    fill: none;
    stroke: currentColor;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
  }
  .icon {
    width: 20px;
    height: 20px;
  }
  .icon-sm {
    width: 16px;
    height: 16px;
  }
  .fade-in {
    animation: fade 0.5s ease-out;
  }
  @keyframes fade {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .featured-wrapper {
    margin: 100px 0 60px;
    position: relative;
    z-index: 20;
  }
  .featured-card {
    display: flex;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(196, 153, 82, 0.3);
    border-radius: 20px;
    overflow: hidden;
    backdrop-filter: blur(10px);
    flex-direction: column;
  }
  @media (min-width: 768px) {
    .featured-card {
      flex-direction: row;
    }
  }
  .f-img {
    flex: 1;
    min-height: 350px;
    position: relative;
    background: #050505;
    display: flex;
    align-items: center;
    justify-content: center;
    border-right: 1px solid rgba(255, 255, 255, 0.1);
  }
  .f-img img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
  .live-badge {
    position: absolute;
    top: 20px;
    left: 20px;
    background: #000;
    color: var(--p);
    border: 1px solid var(--p);
    padding: 6px 12px;
    border-radius: 50px;
    font-weight: 700;
    font-size: 0.9rem;
    display: flex;
    gap: 8px;
    align-items: center;
  }
  .pulse {
    width: 8px;
    height: 8px;
    background: red;
    border-radius: 50%;
    animation: pulse 2s infinite;
  }
  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);
    }
    70% {
      box-shadow: 0 0 0 10px rgba(255, 0, 0, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);
    }
  }
  .f-content {
    flex: 1;
    padding: 40px;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  .f-label {
    color: var(--p);
    letter-spacing: 2px;
    font-size: 0.9rem;
    margin-bottom: 10px;
  }
  .f-title {
    font-size: 3rem;
    margin: 0 0 20px;
    color: var(--p);
    background: linear-gradient(45deg, #fff, var(--p));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .f-meta {
    display: flex;
    gap: 20px;
    color: var(--g);
    margin-bottom: 20px;
  }
  .row {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .row svg {
    color: var(--p);
  }
  .btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 20px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    transition: 0.2s;
    position: relative;
    z-index: 30;
    pointer-events: auto;
  }
  .btn.primary {
    background: var(--p);
    color: #000;
    width: fit-content;
  }
  .btn.outline {
    background: transparent;
    border: 1px solid var(--p);
    color: var(--p);
    margin-top: auto;
    justify-content: center;
  }
  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(196, 153, 82, 0.2);
  }
  .btn.outline:hover {
    background: var(--p);
    color: #000;
  }

  .header-card {
    text-align: center;
    margin-bottom: 40px;
  }
  .section-title {
    font-size: 2.5rem;
    margin: 0 0 10px;
  }
  .section-subtitle {
    color: rgba(209, 209, 209, 0.95);
    margin: 0;
  }
  .tabs-container {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 40px;
    position: relative;
    z-index: 100;
  }
  .tab {
    padding: 10px 25px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: rgba(255, 255, 255, 0.7);
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    transition: 0.2s;
    pointer-events: auto;
  }
  .tab.active,
  .tab:hover {
    background: rgba(196, 153, 82, 0.2);
    border-color: var(--p);
    color: var(--w);
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 30px;
    position: relative;
    z-index: 20;
  }
  .card {
    background: var(--c-bg);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: 0.3s;
    position: relative;
    z-index: 25;
  }
  .card:hover {
    transform: translateY(-5px);
    border-color: var(--p);
    box-shadow: 0 10px 30px rgba(196, 153, 82, 0.15);
  }
  .card-img {
    height: 250px;
    position: relative;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }
  .card-img img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: 0.5s;
  }
  .card:hover .card-img img {
    transform: scale(1.05);
  }
  .date-badge {
    position: absolute;
    top: 10px;
    left: 10px;
    background: rgba(0, 0, 0, 0.85);
    border: 1px solid var(--p);
    border-radius: 6px;
    padding: 5px 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    line-height: 1;
  }
  .d {
    font-size: 1.4rem;
    font-weight: 800;
    color: #fff;
  }
  .m {
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--p);
  }
  .y {
    font-size: 0.6rem;
    color: #ccc;
  }
  .type-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    background: var(--p);
    color: #000;
    padding: 4px 12px;
    border-radius: 20px;
    font-weight: 700;
    font-size: 0.8rem;
  }
  .card-body {
    padding: 20px;
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 15px;
  }
  .card-body h3 {
    margin: 0;
    font-size: 1.3rem;
  }
  .meta {
    display: flex;
    flex-direction: column;
    gap: 8px;
    color: var(--g);
    font-size: 0.9rem;
  }

  /* MODAL */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(5px);
    z-index: 1000;
    display: none;
    justify-content: center;
    align-items: center;
    padding: 20px;
    opacity: 0;
    transition: 0.3s;
  }
  .modal-overlay.open {
    opacity: 1;
  }
  .modal-box {
    background: #0a0a0a;
    width: 100%;
    max-width: 1000px;
    height: 85vh;
    border-radius: 16px;
    border: 1px solid var(--p);
    overflow: hidden;
    box-shadow: 0 0 50px rgba(196, 153, 82, 0.2);
    position: relative;
    display: flex;
    flex-direction: column;
  }
  .close-btn {
    position: absolute;
    top: 15px;
    right: 20px;
    background: rgba(0, 0, 0, 0.5);
    border: none;
    color: #fff;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    font-size: 1.8rem;
    cursor: pointer;
    z-index: 50;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: 0.2s;
    pointer-events: auto;
  }
  .close-btn:hover {
    color: var(--p);
    background: #000;
  }

  .modal-layout {
    display: flex;
    flex: 1;
    overflow: hidden;
  }
  .media-col {
    flex: 2;
    background: #000;
    border-right: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .modal-type-badge {
    position: absolute;
    top: 15px;
    left: 15px;
    background: var(--p);
    color: #000;
    padding: 4px 12px;
    border-radius: 20px;
    font-weight: 700;
    font-size: 0.8rem;
    z-index: 50;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
  }

  .carousel {
    width: 100%;
    height: 100%;
    position: relative;
  }
  .arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid var(--p);
    color: var(--p);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    z-index: 20;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: 0.2s;
    pointer-events: auto;
  }
  .arrow:hover {
    background: var(--p);
    color: #000;
  }
  .prev {
    left: 15px;
  }
  .next {
    right: 15px;
  }
  .dots {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 20;
    background: rgba(0, 0, 0, 0.5);
    padding: 6px 10px;
    border-radius: 20px;
  }

  .info-col {
    flex: 1;
    padding: 30px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    overflow-y: auto;
    background: var(--c-bg);
  }
  .info-col h2 {
    margin: 0;
    font-size: 1.8rem;
    color: var(--p);
    text-transform: uppercase;
    line-height: 1.2;
  }
  .info-rows {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .i-row {
    display: flex;
    align-items: center;
    gap: 12px;
    background: rgba(255, 255, 255, 0.03);
    padding: 10px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.05);
  }
  .icon-box {
    background: rgba(196, 153, 82, 0.1);
    padding: 8px;
    border-radius: 6px;
    color: var(--p);
    display: flex;
  }
  .i-row span {
    font-size: 0.75rem;
    color: var(--g);
    display: block;
  }
  .i-row p {
    margin: 0;
    font-weight: 600;
    font-size: 0.95rem;
  }
  .desc-box {
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding-top: 15px;
  }
  .desc-box h3 {
    color: var(--p);
    font-size: 1.1rem;
    margin: 0 0 5px;
  }
  .desc-box p {
    color: #ccc;
    line-height: 1.5;
    font-size: 0.9rem;
    margin: 0;
  }

  @media (max-width: 900px) {
    .modal-box {
      height: 90vh;
      max-height: none;
      width: 95%;
    }
    .modal-layout {
      flex-direction: column;
    }
    .media-col {
      flex: none;
      height: 45vh;
      border-right: none;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    .info-col {
      flex: 1;
    }
  }
  @media (max-width: 768px) {
    .featured-card {
      flex-direction: column;
    }
    .f-img {
      height: 250px;
      border-right: none;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    .grid {
      grid-template-columns: 1fr;
    }
    .f-title {
      font-size: 2rem;
    }
  }
</style>

<style is:global>
  .slide {
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    opacity: 0;
    pointer-events: none;
    transition: 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #000;
  }
  .slide.active {
    opacity: 1;
    pointer-events: all;
    z-index: 2;
  }
  /* KEY FIX: Forces video/img to fill container */
  .slide img,
  .slide video {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
  .dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    cursor: pointer;
    pointer-events: auto;
  }
  .dot.active {
    background: var(--p);
    transform: scale(1.2);
  }
</style>
